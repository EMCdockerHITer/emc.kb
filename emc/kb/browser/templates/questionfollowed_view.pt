<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="emc.kb">
<body>

<metal:main fill-slot="main">
  <metal:main define-macro="main">
		<div id="zoneHead">
			<div class="zoneHeadLeft">
				<span>
					<span i18n:translate="questions I followed">questions I followed (
						<span i18n:name="qnum" tal:content="view/questionsnum">25</span>)
				</span>
				<span class="spp">|</span>
				<a tal:attributes="href python:context.absolute_url()+'/@@topicfollowed';">
					<span class="orange" >
						<span i18n:translate="topics I followed">topics I followed (
							<span i18n:name="num" tal:content="view/topicsnum">53</span>)
					</span>
				</a>
			</div>
		</div>  
		<div id="ajaxdisplay" tal:define="content python:view.fetchquestionsIfollowed(0, 3)" 
			tal:attributes="data-ajax-target string:${context/absolute_url}/@@questionfollowedmore">
			<div class="noexist" tal:condition="not:content" i18n:translate="You haven't followed any question.">
				You haven't followed any question.
			</div>
			<tal:block condition="content">		
			    <div class="qbox hrbottom followtype" tal:repeat="question content">
			    	<div class="boxTitle"><a tal:attributes="href question/getURL" tal:content="question/Title" /></div>
					<div class="boxFoot" tal:define="questionid python:(question.id).replace('.','_');
														topics python:view.affiliatedtopics(question);
														tnum python:len(topics)">
						<a tal:attributes="href question/getURL" i18n:translate="n_answer"><span tal:content="python:view.questionsIfollowedIndex(question)" i18n:name="answernum">0</span>answer</a>&nbsp;•&nbsp;

						<tal:block tal:define="follow python:view.isFollowed(question)">
							<span tal:attributes="style python: follow and 'display:none;;' or 'display:inline;;';
								                   id python: 'question-follow-'+questionid; 
								                   question-follow string:${context/absolute_url}/@@ajax-follow">
								<a class="followjq" href="#" i18n:translate="follow this question">follow this question</a>
								<input type="hidden" tal:attributes="value questionid" />
							</span>
							<span tal:attributes="style python: follow and 'display:inline;;' or 'display:none;;'; id python: 'question-unfollow-'+questionid; question-unfollow string:${context/absolute_url}/@@ajax-unfollow">
								<a class="unfollowjq" href="#" i18n:translate="unfollow this question">unfollow this question</a>
								<input type="hidden" tal:attributes="value questionid" />
							</span>
						</tal:block>
												
						<tal:block tal:condition="python:tnum > 0">•&nbsp;<span i18n:translate="Relate to">Relate to</span>
						<span tal:repeat="topic python:topics[:3]"><a tal:attributes="href python:topic.absolute_url()" tal:content="python:topic.title">screen</a>.</span>
						<tal:block tal:condition="python:tnum > 3"><span i18n:translate=".etc">.etc</span><span class="linkcolor" tal:content="tnum">4</span></tal:block>
						<span i18n:translate="topics.">topics.</span>
						</tal:block>
					</div>
				</div>						
			   <a id="ajaxmore-link" tal:condition="python:view.questionsnum>3" href="javascript:void(0)"><div id="ajaxmore" i18n:translate="more">more</div></a>
		    </tal:block>
		 </div>
  </metal:main>
</metal:main>

</body>
</html>